{"version":3,"sources":["optionService.ts","trim-pipe.ts","sort-pipe.ts","option-select.component.ts","app.component.ts","boot.ts"],"names":[],"mappings":"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","file":"whole.js","sourcesContent":["import {\r\n    Injectable\r\n}\r\nfrom 'angular2/core';\r\nimport {\r\n    Http, Response\r\n}\r\nfrom 'angular2/http';\r\n\r\nimport {\r\n    Observable\r\n}\r\nfrom 'rxjs/Observable';\r\n\r\nimport {\r\n    Option\r\n}\r\nfrom './option';\r\n\r\n@\r\nInjectable()\r\nexport class OptionService {\r\n    constructor(private http: Http) {}\r\n    public sourceAddress: string;\r\n    public getOptions(): Observable < Response > {\r\n        return this.http.get(this.sourceAddress);\r\n            //.map(this.onLoaded);\r\n            //.catch(this.handleError);\r\n    }\r\n\r\n    private onLoaded(res: Response) {\r\n        let body = res.json();\r\n        return body.data || {};\r\n    }\r\n    private handleError(error: Response | any) {\r\n\r\n    }\r\n}","import {Pipe} from 'angular2/core';\r\n\r\n@Pipe({\r\n  name: 'trim'\r\n})\r\n\r\nexport class TrimPipe {\r\n  transform(item, [param]) { \r\n                if (!item)\r\n                    return;\r\n                if (item.length > param)\r\n                    return item.substring(0, param) + \"...\";\r\n\r\n                return item;\r\n  }\r\n}\r\n","import { Pipe } from \"angular2/core\";\r\n\r\n@Pipe({\r\n  name: \"sort\"\r\n})\r\nexport class SortPipe {\r\ntransform(array: Array<any>, propertyName:string): Array<any> {\r\n    array.sort((a: any, b: any) => {\r\n            if(propertyName!=null)\r\n            {\r\n                \r\n            if(exceptionList.indexOf(a[propertyName])>-1)\r\n                return -1;\r\n                \r\n              if (a[propertyName] < b[propertyName]) {\r\n                return -1;\r\n              } else if (a[propertyName] > b[propertyName]) {\r\n                return 1;\r\n              } else {\r\n                return 0;\r\n              }\r\n            }else\r\n            {\r\n             if(exceptionList.indexOf(a)>-1)\r\n               return -1;\r\n                \r\n              if (a < b) {\r\n                return -1;\r\n              } else if (a > b) {\r\n                return 1;\r\n              } else {\r\n                return 0;\r\n              }\r\n            }\r\n    });\r\n    return array;\r\n  }\r\n}\r\n\r\nvar exceptionList=[\"n/a\",\"'n/a'\",'none']","import {Component} from 'angular2/core';\r\nimport {Option} from './option';\r\nimport {OptionService} from './optionService';\r\nimport {TextValue}from './textValue';\r\nimport {TrimPipe} from './trim-pipe';\r\nimport {SortPipe} from './sort-pipe';\r\n\r\n\r\n//let $ = require('../../node_modules/jquery/dist/jquery.min.js');\r\ndeclare var $: any;\r\n\r\n@\r\nComponent({\r\n    selector: 'option-select',\r\n    templateUrl: 'partials/optionSelectTemplate.html',\r\n    styleUrls: ['css/w3.css', 'css/site.css'],\r\n    inputs: ['optionsUrl', 'result', 'uniqueId', 'header', 'buttonName', 'editable', 'selectFirst','positionClass','sorted','rows','lazy'],\r\n    pipes: [TrimPipe,SortPipe]\r\n})\r\n\r\nexport class OptionSelectComponent {\r\n\r\nconstructor(private optionSrv:OptionService) { \r\n        //if(!this.lazy)\r\n        //this.isDisabled=true;        \r\n        this.buttonClasses=buttonClasses;\r\n        this.buttonName=\"Select\";\r\n        this.rows=5;\r\n    }\r\n    \r\n    ngOnInit()\r\n    {          \r\n            if(!this.lazy)\r\n            {\r\n                this.load(null);\r\n            }                \r\n    }\r\n    \r\n    load(callbackFn)\r\n    {\r\n            \r\n            this.optionSrv.sourceAddress=this.optionsUrl;\r\n            var opts=this.optionSrv.getOptions();     \r\n            opts.subscribe(\r\n            op => \r\n                {\r\n                    this.listOfOptions = op.json();\r\n                        this.calculateSize();\r\n                        if(this.sorted!=null){\r\n                            this.sortAllOptions();\r\n                        }\r\n                        if (this.selectFirst!=null) {\r\n                            this.selectFirsts();                                \r\n                        }                       \r\n                    this.isDisabled=false;\r\n                    if(callbackFn)\r\n                    {\r\n                        var p=new Promise((resolve, reject) => {\r\n                                resolve(callbackFn());\r\n                            });\r\n                    }\r\n                }\r\n            ,\r\n            error =>  this.errorMessage = <any>error);\r\n    }\r\n       \r\n    private listOfOptions : Option[];\r\n    private errorMessage:string;\r\n    \r\n    public rows:number;\r\n    \r\n    public editable: boolean;\r\n    public selectFirst: boolean;\r\n    public sorted:boolean;\r\n    public lazy:boolean;\r\n    \r\n    public result: string;\r\n    public buttonName: string;\r\n    public header: string;\r\n    public uniqueId: string;\r\n    public optionsUrl: string;\r\n    public positionClass:string;\r\n        \r\n    private currentSelection:string;\r\n    private isDisabled:boolean;\r\n    private buttonClasses:string;\r\n\r\n    showModal(res) {\r\n        this.result = res;    \r\n        var showPopUp=function()\r\n                    {                      \r\n                        $('#' + this.uniqueId).css(\"display\", \"block\");  \r\n                    };\r\n            if(!this.lazy)\r\n            {\r\n                showPopUp.bind(this)();                                  \r\n            }else\r\n            {\r\n                this.load(showPopUp.bind(this));\r\n            }\r\n    }\r\n\r\n    closeModal() {\r\n        $('#' + this.uniqueId).css(\"display\", \"none\");\r\n    }\r\n    \r\n    select() {\r\n        this.result=this.currentSelection;\r\n        this.closeModal();\r\n    }\r\n\r\n    updateSelection($event) {\r\n        this.currentSelection=\"\";\r\n        for (var i = 0; i < this.listOfOptions.length; i++) {\r\n            if(this.listOfOptions[i].selection)\r\n            this.currentSelection=this.currentSelection\r\n                +' '+String.fromCharCode(29)+this.listOfOptions[i].selection;\r\n        }\r\n        this.currentSelection=this.currentSelection.substring(1);        \r\n    }\r\n    \r\n    sortAllOptions()\r\n    {         \r\n        for(var x=0;x<this.listOfOptions.length;x++)\r\n        {\r\n            this.listOfOptions[x].Options=new SortPipe().transform(this.listOfOptions[x].Options,'Text');\r\n        }        \r\n    }\r\n    \r\n    selectFirsts()\r\n    {         \r\n            \r\n        for(var x=0;x<this.listOfOptions.length;x++)\r\n        {                \r\n            if(this.listOfOptions[x].Options[0]!=null)\r\n            this.listOfOptions[x].selection=this.listOfOptions[x].Options[0].Value;                \r\n        }        \r\n    }\r\n    \r\n    calculateSize()\r\n    {         \r\n        \r\n        for(var x=0;x<this.listOfOptions.length;x++)\r\n        {                \r\n            this.rows= Math.max(this.listOfOptions[x].Options.length,this.rows);                \r\n        }        \r\n    }\r\n}\r\nvar buttonClasses=\"w3-btn w3-green w3-col w3-ripple\";","import {Component} from 'angular2/core';\r\nimport {OptionSelectComponent} from './option-select.component';\r\nimport {OptionService} from './optionService';\r\nimport {HTTP_PROVIDERS, HTTP_BINDINGS} from 'angular2/http';\r\n\r\n@Component({\r\n  selector: 'my-app',\r\n  templateUrl: 'partials/app.html',\r\n  directives: [OptionSelectComponent],  \r\n  styleUrls: ['css/w3.css','css/site.css'],\r\n  providers:[OptionService]\r\n})\r\n\r\nexport class AppComponent {  \r\n  \r\n}\r\n","import {bootstrap} from 'angular2/platform/browser';\r\nimport {AppComponent} from './app.component';\r\nimport {HTTP_PROVIDERS, HTTP_BINDINGS} from 'angular2/http';\r\n\r\nbootstrap(AppComponent,[HTTP_PROVIDERS]);\r\n"]}